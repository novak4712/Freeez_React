import React, {useContext, useEffect, useRef} from 'react'
import {NavLink} from 'react-router-dom'

import {CurrentThemeContext} from 'contexts/currentTheme';

import Logo from './../../assets/LOGO.svg'
import LogoDark from './../../assets/LOGO_DARK.svg'

import styles from './TopBar.module.scss'

const TopBar = () => {
    const [currentThemeState, dispatch] = useContext(CurrentThemeContext);
    const heightMenuRef = useRef(null);

    useEffect(()=>{
        dispatch({type: 'SET_HEIGHT_MENU', payload: heightMenuRef.current.clientHeight});
    }, [heightMenuRef, dispatch]);


    return (
        <div className={`${styles.topBarWrapper} ${currentThemeState.isLight ? styles.light : styles.dark}`} ref={heightMenuRef}>
            <nav className={styles.topBar}>
                <NavLink to='/' className={styles.topBarLogo}>
                    {currentThemeState.isLight ? <img src={Logo} alt="Freeez"/> : <img src={LogoDark} alt="Freeez"/>}
                </NavLink>
                <ul className={styles.topBarNav}>
                    <li className={styles.topBarNavItem}>
                        <NavLink to='/portfolio' className={styles.topBarNavLink}
                                 activeClassName={styles.topBarNavLinkActive}>
                            portfolio
                        </NavLink>
                    </li>
                    <li className={styles.topBarNavItem}>
                        <NavLink to='/services' className={styles.topBarNavLink}
                                 activeClassName={styles.topBarNavLinkActive}>
                            services
                        </NavLink>
                    </li>
                    <li className={styles.topBarNavItem}>
                        <NavLink to='/our_team' className={styles.topBarNavLink}
                                 activeClassName={styles.topBarNavLinkActive}>
                            our team
                            <ul className={styles.topBarNavSub}>
                                <li className={styles.topBarNavItemSub}>
                                    <NavLink to='/contacts' className={styles.topBarNavLinkSub}
                                             activeClassName={styles.topBarNavLinkSubActive}>
                                        CONTACTS
                                    </NavLink>
                                </li>
                            </ul>
                        </NavLink>
                    </li>
                    <li className={styles.topBarNavItem}>
                        <NavLink to='/about_freez' className={styles.topBarNavLink}
                                 activeClassName={styles.topBarNavLinkActive}>
                            about "FREEEZ"
                        </NavLink>
                    </li>
                    <li className={styles.topBarNavItem}>
                        <NavLink to='/express_design' className={styles.topBarNavLink}
                                 activeClassName={styles.topBarNavLinkActive}>
                            express design
                        </NavLink>
                    </li>
                    <li className={styles.topBarNavItem}>
                        <NavLink to='/experimental_game_design' className={styles.topBarNavLink}
                                 activeClassName={styles.topBarNavLinkActive}>
                            experimental game design
                        </NavLink>
                    </li>
                </ul>
                <ul className={styles.topBarIconNav}>
                    <li className={styles.topBarIconNavItem}>
                        <NavLink to='/authentication' className={styles.topBarIconNavLink}
                                 activeClassName={styles.topBarIconNavLinkActive}>
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none"
                                 xmlns="http://www.w3.org/2000/svg" className={styles.imgIconNavLink}>
                                <path
                                    d="M11.6944 2.94544C11.0103 2.20681 10.0547 1.80005 9.00003 1.80005C7.93972 1.80005 6.98101 2.20435 6.30003 2.93841C5.61167 3.68056 5.27628 4.68919 5.35503 5.77833C5.51113 7.92708 7.14624 9.67505 9.00003 9.67505C10.8538 9.67505 12.4861 7.92743 12.6447 5.77903C12.7245 4.69974 12.387 3.69321 11.6944 2.94544Z"/>
                                <path
                                    d="M15.1876 16.875H2.81258C2.6506 16.8771 2.49019 16.8431 2.34302 16.7754C2.19585 16.7077 2.06562 16.6081 1.9618 16.4837C1.73328 16.2105 1.64117 15.8375 1.70938 15.4603C2.00609 13.8143 2.93211 12.4316 4.38758 11.4609C5.68063 10.5993 7.31856 10.125 9.00008 10.125C10.6816 10.125 12.3195 10.5996 13.6126 11.4609C15.068 12.4312 15.9941 13.8139 16.2908 15.46C16.359 15.8372 16.2669 16.2102 16.0384 16.4834C15.9346 16.6078 15.8044 16.7075 15.6572 16.7752C15.51 16.843 15.3496 16.8771 15.1876 16.875Z"/>
                            </svg>
                            <span>1</span>
                        </NavLink>
                    </li>
                    <li className={styles.topBarIconNavItem}>
                        <NavLink to='/cart' className={styles.topBarIconNavLink}
                                 activeClassName={styles.topBarIconNavLinkActive}>
                            <svg width="19" height="19" viewBox="0 0 19 19" fill="none"
                                 xmlns="http://www.w3.org/2000/svg" className={styles.imgIconNavLink}>
                                <path
                                    d="M6.53125 16.625C7.18709 16.625 7.71875 16.0933 7.71875 15.4375C7.71875 14.7817 7.18709 14.25 6.53125 14.25C5.87541 14.25 5.34375 14.7817 5.34375 15.4375C5.34375 16.0933 5.87541 16.625 6.53125 16.625Z"/>
                                <path
                                    d="M14.8438 16.625C15.4996 16.625 16.0312 16.0933 16.0312 15.4375C16.0312 14.7817 15.4996 14.25 14.8438 14.25C14.1879 14.25 13.6562 14.7817 13.6562 15.4375C13.6562 16.0933 14.1879 16.625 14.8438 16.625Z"/>
                                <path
                                    d="M16.9516 4.48207C16.8681 4.38004 16.7631 4.29786 16.6439 4.2415C16.5248 4.18515 16.3946 4.15602 16.2628 4.15625H4.96857L4.74109 2.86559C4.71684 2.72811 4.64491 2.60357 4.53796 2.51385C4.431 2.42413 4.29585 2.37497 4.15625 2.375H1.78125C1.62378 2.375 1.47276 2.43756 1.36141 2.54891C1.25006 2.66026 1.1875 2.81128 1.1875 2.96875C1.1875 3.12622 1.25006 3.27724 1.36141 3.38859C1.47276 3.49994 1.62378 3.5625 1.78125 3.5625H3.65824L5.35266 13.1657C5.37691 13.3031 5.44884 13.4277 5.55579 13.5174C5.66275 13.6071 5.7979 13.6563 5.9375 13.6562H15.4375C15.595 13.6562 15.746 13.5937 15.8573 13.4823C15.9687 13.371 16.0312 13.22 16.0312 13.0625C16.0312 12.905 15.9687 12.754 15.8573 12.6427C15.746 12.5313 15.595 12.4688 15.4375 12.4688H6.43551L6.22621 11.2812H15.1941C15.4 11.281 15.5995 11.2096 15.7588 11.0791C15.9181 10.9487 16.0275 10.7672 16.0684 10.5654L17.1371 5.22166C17.1629 5.09234 17.1596 4.9589 17.1275 4.831C17.0954 4.7031 17.0353 4.58392 16.9516 4.48207Z"/>
                            </svg>
                            <span>2</span>
                        </NavLink>
                    </li>
                </ul>
            </nav>
        </div>

    )
}
export default TopBar