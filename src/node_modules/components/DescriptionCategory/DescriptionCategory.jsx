import React, {useEffect} from "react";

import useFetch from 'hooks/useFetch';
import styles from './DescriptionCategory.module.scss'

const DescriptionCategory = ({idCategory}) => {
    const apiUrl = '/wp-json/wp/v2/detail_category?per_page=100'
    const [{response, isLoading}, doFetch] = useFetch(apiUrl)
    let data = {}
    let htmlContent = ''
    useEffect(() => {
        doFetch()
    }, [doFetch])

    if (response) {
        data = response.filter(item => +item.name_category === +idCategory)
        if(data){
            htmlContent = data[0].text
        }

    }

    return (
        <React.Fragment>
            {(isLoading) ? <div>Loading...</div> :
                <div dangerouslySetInnerHTML={{__html: htmlContent}} className={styles.descriptionCategory}/>
            }
        </React.Fragment>

    )
}
export default DescriptionCategory
