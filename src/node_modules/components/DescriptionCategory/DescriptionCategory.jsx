import React, {useEffect} from "react";

import useFetch from 'hooks/useFetch';

const DescriptionCategory = ({idCategory}) => {
    const apiUrl = '/wp-json/wp/v2/detail_category'
    const [{response, isLoading}, doFetch] = useFetch(apiUrl)
    let data = {}
    let htmlContent = ''
    useEffect(() => {
        doFetch()
    }, [doFetch])

    if (response) {
        data = response.filter(item => +item.name_category === +idCategory)
        htmlContent = data[0].text
    }

    return (
        <React.Fragment>
            {(isLoading) ? <div>Loading...</div> :
                <div dangerouslySetInnerHTML={{__html: htmlContent}}/>
            }
        </React.Fragment>

    )
}
export default DescriptionCategory
