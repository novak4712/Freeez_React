import React, {useState, useContext} from "react";

import {CurrentThemeContext} from 'contexts/currentTheme'

import './SwitchFreez.scss'


const SwitchFreez = (props) => {
    const {checkText, uncheckText, nameCheckbox} = props;
    const [currentThemeState, dispatch] = useContext(CurrentThemeContext);
    const [checked, setChecked] = useState(false);


    const changeCheckbox = () => {
        setChecked(!checked);
        if (nameCheckbox === 'themeCheckbox') {
            if (checked) {
                dispatch({type: 'SET_LIGHT_THEME'});
            } else {
                dispatch({type: 'SET_DARK_THEME'});
            }
        }

        if (nameCheckbox === 'alertCheckbox') {
            if (checked) {
                dispatch({type: 'SET_ALERT_ON'});
            } else {
                dispatch({type: 'SET_ALERT_OFF'});
            }
        }

    };
    const handlerCheckbox = () => {
        changeCheckbox()
    };


    return (
        <div className={currentThemeState.isLight ? 'switchFreeezLight' : 'switchFreeezDark'}>
            <input type="checkbox" className='switchFreez' onChange={changeCheckbox}/>
            <div className={checked ? 'pseudoCheckbox checked' : 'pseudoCheckbox'} onClick={handlerCheckbox}>
                <div className='switchCheckbox'>
                    {checked ? checkText : uncheckText}
                </div>
            </div>
        </div>
    )
};
export default SwitchFreez