import React, {useContext, useState} from "react";
import {Link} from "react-router-dom";
import ReactPageScroller from 'react-page-scroller';

import ScrollTip from 'components/ScrollTip'
import {CurrentThemeContext} from "contexts/currentTheme";
import subArray from 'utilities/subArray.js';

import styles from 'Pages/Services/Services.module.scss'


const Services = () => {
    const [currentThemeState] = useContext(CurrentThemeContext);
    const [currentPage, setCurrentPage] = useState(null);
    const serviceItem = [
        {
            name: 'WEBSITE DEVELOPMENT',
            services: ['CREATION', 'LAYOUT', 'COMPLETION', 'PROTOTYPING', 'WEB & APP DESIGN']
        },
        {name: 'WEBSITE MAINTENANCE', services: ['ADMINISTRATION', 'COPYRIGHT', '1C-BITRIX PRODUCTS', 'PHOTO STUDIO']},
        {name: 'PROMOTION', services: ['SEO PROMOTION', 'CONTEXTUAL ADVERTISING', 'TARGETED ADVERTISING']},
        {name: 'POLYGRAPHY', services: ['CALENDAR', 'FLYER', 'BOOKLET', 'LABEL', 'BUSINESS CARD']},
        {name: '3D MODELING', services: ['3D MODELS', 'VIDEO ANIMATIONS']},
        {
            name: 'INTERIOR DESIGN',
            services: ['STILL IMAGES', 'MOTION IMAGES', 'CATALOGUE ASSETS DESIGN', 'ANIMATION', '360o IMAGES']
        },
        {
            name: 'BRANDING',
            services: ['TAGLINE', 'NAMING', 'LOGO', 'BRANDBOOK', 'LOGOBOOK', 'GUIDELINES', 'CORPORATE IDENTITY', 'PACKAGE DESIGN']
        },
        {name: 'MOTION GRAPHICS', services: ['ANIMATION', 'VISUAL EFFECTS']},
        {
            name: 'WEBSITE DEVELOPMENT',
            services: ['CREATION', 'LAYOUT', 'COMPLETION', 'PROTOTYPING', 'WEB & APP DESIGN']
        },
        {name: 'WEBSITE MAINTENANCE', services: ['ADMINISTRATION', 'COPYRIGHT', '1C-BITRIX PRODUCTS', 'PHOTO STUDIO']},
        {name: 'PROMOTION', services: ['SEO PROMOTION', 'CONTEXTUAL ADVERTISING', 'TARGETED ADVERTISING']},
        {name: 'POLYGRAPHY', services: ['CALENDAR', 'FLYER', 'BOOKLET', 'LABEL', 'BUSINESS CARD']},
        {name: '3D MODELING', services: ['3D MODELS', 'VIDEO ANIMATIONS']},
        {
            name: 'INTERIOR DESIGN',
            services: ['STILL IMAGES', 'MOTION IMAGES', 'CATALOGUE ASSETS DESIGN', 'ANIMATION', '360o IMAGES']
        },
        {
            name: 'BRANDING',
            services: ['TAGLINE', 'NAMING', 'LOGO', 'BRANDBOOK', 'LOGOBOOK', 'GUIDELINES', 'CORPORATE IDENTITY', 'PACKAGE DESIGN']
        },
        {name: 'MOTION GRAPHICS', services: ['ANIMATION', 'VISUAL EFFECTS']}
    ]
    const data = subArray(serviceItem, 8);

    const handlePageChange = (number) => {
        setCurrentPage(number)
    }

    return (
        <div className={`${styles.servicesWrapper} ${currentThemeState.isLight ? styles.light : styles.dark}`}>
            <ScrollTip currentPage={currentPage} length={data.length}/>
            <div className={styles.services}>
                <ReactPageScroller
                    containerWidth='100%'
                    containerHeight='100%'
                    transitionTimingFunction='ease-in-out'
                    pageOnChange={handlePageChange}
                    customPageNumber={currentPage}
                    blockScrollDown={currentPage === data.length - 1}
                >
                    {
                        data.map((item, idx) => {
                            return (
                                <div className={styles.serviceItemWrapper} key={`services-${idx}`}>
                                    {
                                        item.map((service, idx) => {
                                            return (
                                                <div key={`${service.name}-${idx}`} className={styles.serviceItem}>
                                                    <div className={styles.serviceName}>
                                                        {service.name}
                                                    </div>
                                                    <div className={styles.serviceLinks}>
                                                        {service.services.map((link, idx) => {
                                                            return (
                                                                <Link to={`/services/${link}`} key={`${link}-${idx}`} className={styles.link}>
                                                                    {link}
                                                                </Link>
                                                            )
                                                        })}
                                                    </div>
                                                </div>
                                            )
                                        })
                                    }
                                </div>
                            )
                        })
                    }
                </ReactPageScroller>
            </div>
        </div>
    )
};

export default Services;